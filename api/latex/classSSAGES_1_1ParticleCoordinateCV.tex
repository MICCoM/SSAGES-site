\hypertarget{classSSAGES_1_1ParticleCoordinateCV}{}\doxysection{S\+S\+A\+G\+ES\+::Particle\+Coordinate\+CV Class Reference}
\label{classSSAGES_1_1ParticleCoordinateCV}\index{SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}}


Collective variable on a particle coordinate.  




{\ttfamily \#include $<$Particle\+Coordinate\+C\+V.\+h$>$}



Inheritance diagram for S\+S\+A\+G\+ES\+::Particle\+Coordinate\+CV\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{classSSAGES_1_1ParticleCoordinateCV__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_aad9e293ea7de158b7d7f0c92724ded33}{Particle\+Coordinate\+CV}} (const \mbox{\hyperlink{namespaceSSAGES_afbb26053e292f94ea83b1c441ce6df74}{Label}} \&atomids, \mbox{\hyperlink{namespaceSSAGES_abea9456e00cb5995a3a8291ca21612ff}{Dimension}} dim)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a1fe779096ebd6aeed9912f34bc57bccd}{Initialize}} (const \mbox{\hyperlink{classSSAGES_1_1Snapshot}{Snapshot}} \&snapshot) override
\begin{DoxyCompactList}\small\item\em Initialize necessary variables. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_afff49e8eb1571fe3527712be50da001e}{Evaluate}} (const \mbox{\hyperlink{classSSAGES_1_1Snapshot}{Snapshot}} \&snapshot) override
\begin{DoxyCompactList}\small\item\em Evaluate the CV. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a629b3653807f3af52c818adf6b12687c}{Get\+Periodic\+Value}} (double Location) const override
\begin{DoxyCompactList}\small\item\em Return value taking periodic boundary conditions into account. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a5ce37330c0e9654a5977afc8c6bdeed1}{Get\+Difference}} (const double Location) const override
\begin{DoxyCompactList}\small\item\em Return difference considering periodic boundaries. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV}{Particle\+Coordinate\+CV}} $\ast$ \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_ad21a72b2fe3e34c16c985fb13de32d58}{Build}} (const Json\+::\+Value \&json, const std\+::string \&path)
\begin{DoxyCompactList}\small\item\em Set up collective variable. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classSSAGES_1_1ParticleCoordinateCV_ad95ebdbf29e922bdf51acf7a7453faae}\label{classSSAGES_1_1ParticleCoordinateCV_ad95ebdbf29e922bdf51acf7a7453faae}} 
\mbox{\hyperlink{namespaceSSAGES_afbb26053e292f94ea83b1c441ce6df74}{Label}} \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_ad95ebdbf29e922bdf51acf7a7453faae}{atomids\+\_\+}}
\begin{DoxyCompactList}\small\item\em I\+Ds of atoms of interest. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSSAGES_1_1ParticleCoordinateCV_a60d9503c7b671db609c997c9aceb92df}\label{classSSAGES_1_1ParticleCoordinateCV_a60d9503c7b671db609c997c9aceb92df}} 
\mbox{\hyperlink{namespaceSSAGES_abea9456e00cb5995a3a8291ca21612ff}{Dimension}} \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a60d9503c7b671db609c997c9aceb92df}{dim\+\_\+}}
\begin{DoxyCompactList}\small\item\em Index of dimension. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Collective variable on a particle coordinate. 

This will return the value of either the x, y, or z coordinate, depending on the user specification for a defined particle, which is a collection of one or more atoms. 

Definition at line 40 of file Particle\+Coordinate\+C\+V.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classSSAGES_1_1ParticleCoordinateCV_aad9e293ea7de158b7d7f0c92724ded33}\label{classSSAGES_1_1ParticleCoordinateCV_aad9e293ea7de158b7d7f0c92724ded33}} 
\index{SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}!ParticleCoordinateCV@{ParticleCoordinateCV}}
\index{ParticleCoordinateCV@{ParticleCoordinateCV}!SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}}
\doxysubsubsection{\texorpdfstring{ParticleCoordinateCV()}{ParticleCoordinateCV()}}
{\footnotesize\ttfamily S\+S\+A\+G\+E\+S\+::\+Particle\+Coordinate\+C\+V\+::\+Particle\+Coordinate\+CV (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespaceSSAGES_afbb26053e292f94ea83b1c441ce6df74}{Label}} \&}]{atomids,  }\item[{\mbox{\hyperlink{namespaceSSAGES_abea9456e00cb5995a3a8291ca21612ff}{Dimension}}}]{dim }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em atomids} & Atom ID\textquotesingle{}s of interest. \\
\hline
{\em dim} & Index of dimension.\\
\hline
\end{DoxyParams}
Construct a particle coordinate CV. The atomids specify a vector of the atom ID\textquotesingle{}s of interest, and index specifies the dimension to report (x,y,z).

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000003}{Todo}}]Bounds needs to be an input. \end{DoxyRefDesc}


Definition at line 60 of file Particle\+Coordinate\+C\+V.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{60                                                                   : }
\DoxyCodeLine{61         \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_ad95ebdbf29e922bdf51acf7a7453faae}{atomids\_}}(atomids), \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a60d9503c7b671db609c997c9aceb92df}{dim\_}}(dim)}
\DoxyCodeLine{62         \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classSSAGES_1_1ParticleCoordinateCV_ad21a72b2fe3e34c16c985fb13de32d58}\label{classSSAGES_1_1ParticleCoordinateCV_ad21a72b2fe3e34c16c985fb13de32d58}} 
\index{SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}!Build@{Build}}
\index{Build@{Build}!SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}}
\doxysubsubsection{\texorpdfstring{Build()}{Build()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV}{Particle\+Coordinate\+CV}}$\ast$ S\+S\+A\+G\+E\+S\+::\+Particle\+Coordinate\+C\+V\+::\+Build (\begin{DoxyParamCaption}\item[{const Json\+::\+Value \&}]{json,  }\item[{const std\+::string \&}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Set up collective variable. 


\begin{DoxyParams}{Parameters}
{\em json} & \mbox{\hyperlink{namespaceJSON}{J\+S\+ON}} input value. \\
\hline
{\em path} & Path for \mbox{\hyperlink{namespaceJSON}{J\+S\+ON}} path specification. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the CV built by this function. {\ttfamily nullptr} in case of unknown error.
\end{DoxyReturn}
Builds a CV from a \mbox{\hyperlink{namespaceJSON}{J\+S\+ON}} node. Returns a pointer to the built cv. If an unknown error is encountered, this function will return a {\ttfamily nullptr}, but generally it will throw a \mbox{\hyperlink{classSSAGES_1_1BuildException}{Build\+Exception}} on failure. \begin{DoxyWarning}{Warning}
Object lifetime is the caller\textquotesingle{}s responsibility. 
\end{DoxyWarning}


Definition at line 168 of file Particle\+Coordinate\+C\+V.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{169         \{}
\DoxyCodeLine{170             \mbox{\hyperlink{classJson_1_1ObjectRequirement}{Json::ObjectRequirement}} validator;}
\DoxyCodeLine{171             Json::Value schema;}
\DoxyCodeLine{172             Json::CharReaderBuilder rbuilder;}
\DoxyCodeLine{173             Json::CharReader* reader = rbuilder.newCharReader();}
\DoxyCodeLine{174 }
\DoxyCodeLine{175             reader-\/>parse(JsonSchema::ParticleCoordinateCV.c\_str(),}
\DoxyCodeLine{176                           JsonSchema::ParticleCoordinateCV.c\_str() + JsonSchema::ParticleCoordinateCV.size(),}
\DoxyCodeLine{177                           \&schema, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{178             validator.\mbox{\hyperlink{classJson_1_1ObjectRequirement_a4ed02ae1d612a5efba1688fcdd2df092}{Parse}}(schema, path);}
\DoxyCodeLine{179 }
\DoxyCodeLine{180             \textcolor{comment}{// Validate inputs.}}
\DoxyCodeLine{181             validator.\mbox{\hyperlink{classJson_1_1ObjectRequirement_a9ac3b920001a35bc70580035d8d802b7}{Validate}}(json, path);}
\DoxyCodeLine{182             \textcolor{keywordflow}{if}(validator.\mbox{\hyperlink{classJson_1_1Requirement_adfaec336a9f051d6f6b9a6d7f1d97b75}{HasErrors}}())}
\DoxyCodeLine{183                 \textcolor{keywordflow}{throw} BuildException(validator.\mbox{\hyperlink{classJson_1_1Requirement_a60bc275c366eb59f192fa2e621268480}{GetErrors}}());}
\DoxyCodeLine{184 }
\DoxyCodeLine{185             \mbox{\hyperlink{namespaceSSAGES_afbb26053e292f94ea83b1c441ce6df74}{Label}} atomids;}
\DoxyCodeLine{186             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\& \textcolor{keywordtype}{id} : json[\textcolor{stringliteral}{"atom\_ids"}])}
\DoxyCodeLine{187                 atomids.push\_back(\textcolor{keywordtype}{id}.asInt());}
\DoxyCodeLine{188 }
\DoxyCodeLine{189             \textcolor{keyword}{auto} indextype = json.get(\textcolor{stringliteral}{"dimension"},\textcolor{stringliteral}{"x"}).asString();}
\DoxyCodeLine{190 }
\DoxyCodeLine{191             \mbox{\hyperlink{namespaceSSAGES_abea9456e00cb5995a3a8291ca21612ff}{Dimension}} index;}
\DoxyCodeLine{192             \textcolor{keywordflow}{if}(indextype == \textcolor{stringliteral}{"x"})}
\DoxyCodeLine{193                 index = Dimension::x;}
\DoxyCodeLine{194             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(indextype == \textcolor{stringliteral}{"y"})}
\DoxyCodeLine{195                 index = Dimension::y;}
\DoxyCodeLine{196             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(indextype == \textcolor{stringliteral}{"z"})}
\DoxyCodeLine{197                 index = Dimension::z;}
\DoxyCodeLine{198             \textcolor{keywordflow}{else}}
\DoxyCodeLine{199                 \textcolor{keywordflow}{throw} BuildException(\{\textcolor{stringliteral}{"Could not obtain ParticleCoordinate dimension specified."}\});}
\DoxyCodeLine{200 }
\DoxyCodeLine{201             \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_aad9e293ea7de158b7d7f0c92724ded33}{ParticleCoordinateCV}}(atomids, index);}
\DoxyCodeLine{202         \}}

\end{DoxyCode}


References Json\+::\+Requirement\+::\+Get\+Errors(), Json\+::\+Requirement\+::\+Has\+Errors(), Json\+::\+Object\+Requirement\+::\+Parse(), and Json\+::\+Object\+Requirement\+::\+Validate().



Referenced by S\+S\+A\+G\+E\+S\+::\+Collective\+Variable\+::\+Build\+C\+V().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSSAGES_1_1ParticleCoordinateCV_ad21a72b2fe3e34c16c985fb13de32d58_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSSAGES_1_1ParticleCoordinateCV_ad21a72b2fe3e34c16c985fb13de32d58_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classSSAGES_1_1ParticleCoordinateCV_afff49e8eb1571fe3527712be50da001e}\label{classSSAGES_1_1ParticleCoordinateCV_afff49e8eb1571fe3527712be50da001e}} 
\index{SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}!Evaluate@{Evaluate}}
\index{Evaluate@{Evaluate}!SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}}
\doxysubsubsection{\texorpdfstring{Evaluate()}{Evaluate()}}
{\footnotesize\ttfamily void S\+S\+A\+G\+E\+S\+::\+Particle\+Coordinate\+C\+V\+::\+Evaluate (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSSAGES_1_1Snapshot}{Snapshot}} \&}]{snapshot }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}}



Evaluate the CV. 


\begin{DoxyParams}{Parameters}
{\em snapshot} & Current simulation snapshot. \\
\hline
\end{DoxyParams}


Definition at line 97 of file Particle\+Coordinate\+C\+V.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{98         \{}
\DoxyCodeLine{99             \textcolor{comment}{// Get local atom indices and compute COM. }}
\DoxyCodeLine{100             std::vector<int> idx;}
\DoxyCodeLine{101             snapshot.GetLocalIndices(\mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_ad95ebdbf29e922bdf51acf7a7453faae}{atomids\_}}, \&idx);}
\DoxyCodeLine{102 }
\DoxyCodeLine{103             \textcolor{comment}{// Get data from snapshot. }}
\DoxyCodeLine{104             \textcolor{keyword}{auto} n = snapshot.GetNumAtoms();}
\DoxyCodeLine{105             \textcolor{keyword}{const} \textcolor{keyword}{auto}\& masses = snapshot.GetMasses();}
\DoxyCodeLine{106 }
\DoxyCodeLine{107             \textcolor{comment}{// Initialize gradient.}}
\DoxyCodeLine{108             std::fill(\mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a390202f6e541da879f1cfcde22c49489}{grad\_}}.begin(), \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a390202f6e541da879f1cfcde22c49489}{grad\_}}.end(), \mbox{\hyperlink{namespaceSSAGES_a630084a0a5e185e89e21b3735f8f8b2e}{Vector3}}\{0,0,0\});}
\DoxyCodeLine{109             \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a390202f6e541da879f1cfcde22c49489}{grad\_}}.resize(n, \mbox{\hyperlink{namespaceSSAGES_a630084a0a5e185e89e21b3735f8f8b2e}{Vector3}}\{0,0,0\});}
\DoxyCodeLine{110             }
\DoxyCodeLine{111             \textcolor{comment}{// Compute total and center of mass.}}
\DoxyCodeLine{112             \textcolor{keyword}{auto} masstot = snapshot.TotalMass(idx);}
\DoxyCodeLine{113             \mbox{\hyperlink{namespaceSSAGES_a630084a0a5e185e89e21b3735f8f8b2e}{Vector3}} com = snapshot.CenterOfMass(idx);}
\DoxyCodeLine{114 }
\DoxyCodeLine{115             \textcolor{comment}{// Assign CV value. }}
\DoxyCodeLine{116             \textcolor{keywordflow}{switch}(\mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a60d9503c7b671db609c997c9aceb92df}{dim\_}})}
\DoxyCodeLine{117             \{}
\DoxyCodeLine{118                 \textcolor{keywordflow}{case} Dimension::x:}
\DoxyCodeLine{119                     \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a65b17f3e9b3c967ad42814c3eec88bb2}{val\_}} = com[0];}
\DoxyCodeLine{120                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{121                 \textcolor{keywordflow}{case} Dimension::y:}
\DoxyCodeLine{122                     \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a65b17f3e9b3c967ad42814c3eec88bb2}{val\_}} = com[1];}
\DoxyCodeLine{123                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{124                 \textcolor{keywordflow}{case} Dimension::z:}
\DoxyCodeLine{125                     \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a65b17f3e9b3c967ad42814c3eec88bb2}{val\_}} = com[2];}
\DoxyCodeLine{126                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{127             \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129             \textcolor{comment}{// Assign gradient to appropriate atoms.}}
\DoxyCodeLine{130             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\& \textcolor{keywordtype}{id} : idx)}
\DoxyCodeLine{131             \{}
\DoxyCodeLine{132                 \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a390202f6e541da879f1cfcde22c49489}{grad\_}}[id][0] = (\mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a60d9503c7b671db609c997c9aceb92df}{dim\_}} == Dimension::x) ? masses[\textcolor{keywordtype}{id}]/masstot : 0;}
\DoxyCodeLine{133                 \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a390202f6e541da879f1cfcde22c49489}{grad\_}}[id][1] = (\mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a60d9503c7b671db609c997c9aceb92df}{dim\_}} == Dimension::y) ? masses[\textcolor{keywordtype}{id}]/masstot : 0;}
\DoxyCodeLine{134                 \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a390202f6e541da879f1cfcde22c49489}{grad\_}}[id][2] = (\mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_a60d9503c7b671db609c997c9aceb92df}{dim\_}} == Dimension::z) ? masses[\textcolor{keywordtype}{id}]/masstot : 0;}
\DoxyCodeLine{135             \}}
\DoxyCodeLine{136         \}}

\end{DoxyCode}


References atomids\+\_\+, S\+S\+A\+G\+E\+S\+::\+Snapshot\+::\+Center\+Of\+Mass(), dim\+\_\+, S\+S\+A\+G\+E\+S\+::\+Snapshot\+::\+Get\+Local\+Indices(), S\+S\+A\+G\+E\+S\+::\+Snapshot\+::\+Get\+Masses(), S\+S\+A\+G\+E\+S\+::\+Snapshot\+::\+Get\+Num\+Atoms(), S\+S\+A\+G\+E\+S\+::\+Collective\+Variable\+::grad\+\_\+, and S\+S\+A\+G\+E\+S\+::\+Snapshot\+::\+Total\+Mass().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSSAGES_1_1ParticleCoordinateCV_afff49e8eb1571fe3527712be50da001e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classSSAGES_1_1ParticleCoordinateCV_a5ce37330c0e9654a5977afc8c6bdeed1}\label{classSSAGES_1_1ParticleCoordinateCV_a5ce37330c0e9654a5977afc8c6bdeed1}} 
\index{SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}!GetDifference@{GetDifference}}
\index{GetDifference@{GetDifference}!SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}}
\doxysubsubsection{\texorpdfstring{GetDifference()}{GetDifference()}}
{\footnotesize\ttfamily double S\+S\+A\+G\+E\+S\+::\+Particle\+Coordinate\+C\+V\+::\+Get\+Difference (\begin{DoxyParamCaption}\item[{const double}]{Location }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Return difference considering periodic boundaries. 


\begin{DoxyParams}{Parameters}
{\em Location} & Calculate difference of CV value to this location.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Direct difference.
\end{DoxyReturn}
As the Atom\+Coordinate CV does not consider periodic boundary conditions, the difference between the current value of the CV and another value is always the direct difference. 

Reimplemented from \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a01d3a711691c4354ea78a54ed2d5f838}{S\+S\+A\+G\+E\+S\+::\+Collective\+Variable}}.



Definition at line 162 of file Particle\+Coordinate\+C\+V.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{163         \{}
\DoxyCodeLine{164             \textcolor{keywordflow}{return} \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a65b17f3e9b3c967ad42814c3eec88bb2}{val\_}} -\/ Location;}
\DoxyCodeLine{165         \}}

\end{DoxyCode}


References S\+S\+A\+G\+E\+S\+::\+Collective\+Variable\+::val\+\_\+.

\mbox{\Hypertarget{classSSAGES_1_1ParticleCoordinateCV_a629b3653807f3af52c818adf6b12687c}\label{classSSAGES_1_1ParticleCoordinateCV_a629b3653807f3af52c818adf6b12687c}} 
\index{SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}!GetPeriodicValue@{GetPeriodicValue}}
\index{GetPeriodicValue@{GetPeriodicValue}!SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}}
\doxysubsubsection{\texorpdfstring{GetPeriodicValue()}{GetPeriodicValue()}}
{\footnotesize\ttfamily double S\+S\+A\+G\+E\+S\+::\+Particle\+Coordinate\+C\+V\+::\+Get\+Periodic\+Value (\begin{DoxyParamCaption}\item[{double}]{Location }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Return value taking periodic boundary conditions into account. 


\begin{DoxyParams}{Parameters}
{\em Location} & Get wrapped value of this location.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Input value
\end{DoxyReturn}
The Atom\+Coordinate CV does not consider periodic boundary conditions. Thus, this function always returns the input value. 

Reimplemented from \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable_a0b32627283cd44d97eebd6b40814f9d1}{S\+S\+A\+G\+E\+S\+::\+Collective\+Variable}}.



Definition at line 147 of file Particle\+Coordinate\+C\+V.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{148         \{}
\DoxyCodeLine{149             \textcolor{keywordflow}{return} Location;}
\DoxyCodeLine{150         \}}

\end{DoxyCode}
\mbox{\Hypertarget{classSSAGES_1_1ParticleCoordinateCV_a1fe779096ebd6aeed9912f34bc57bccd}\label{classSSAGES_1_1ParticleCoordinateCV_a1fe779096ebd6aeed9912f34bc57bccd}} 
\index{SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!SSAGES::ParticleCoordinateCV@{SSAGES::ParticleCoordinateCV}}
\doxysubsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily void S\+S\+A\+G\+E\+S\+::\+Particle\+Coordinate\+C\+V\+::\+Initialize (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSSAGES_1_1Snapshot}{Snapshot}} \&}]{snapshot }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}}



Initialize necessary variables. 


\begin{DoxyParams}{Parameters}
{\em snapshot} & Current simulation snapshot. \\
\hline
\end{DoxyParams}


Definition at line 68 of file Particle\+Coordinate\+C\+V.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{69         \{}
\DoxyCodeLine{70             \textcolor{keyword}{using} std::to\_string;}
\DoxyCodeLine{71 }
\DoxyCodeLine{72             \textcolor{keyword}{auto} n = \mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_ad95ebdbf29e922bdf51acf7a7453faae}{atomids\_}}.size();}
\DoxyCodeLine{73 }
\DoxyCodeLine{74             \textcolor{comment}{// Make sure atom ID's are on at least one processor. }}
\DoxyCodeLine{75             std::vector<int> found(n, 0);}
\DoxyCodeLine{76             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} i = 0; i < n; ++i)}
\DoxyCodeLine{77             \{}
\DoxyCodeLine{78                 \textcolor{keywordflow}{if}(snapshot.GetLocalIndex(\mbox{\hyperlink{classSSAGES_1_1ParticleCoordinateCV_ad95ebdbf29e922bdf51acf7a7453faae}{atomids\_}}[i]) != -\/1)}
\DoxyCodeLine{79                     found[i] = 1;}
\DoxyCodeLine{80             \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82             MPI\_Allreduce(MPI\_IN\_PLACE, found.data(), n, MPI\_INT, MPI\_SUM, snapshot.GetCommunicator());}
\DoxyCodeLine{83             \textcolor{keywordtype}{unsigned} ntot = std::accumulate(found.begin(), found.end(), 0, std::plus<int>());}
\DoxyCodeLine{84             \textcolor{keywordflow}{if}(ntot != n)}
\DoxyCodeLine{85                 \textcolor{keywordflow}{throw} BuildException(\{}
\DoxyCodeLine{86                     \textcolor{stringliteral}{"ParticleCoordinateCV: Expected to find "} + }
\DoxyCodeLine{87                     to\_string(n) + }
\DoxyCodeLine{88                     \textcolor{stringliteral}{" atoms, but only found "} + }
\DoxyCodeLine{89                     to\_string(ntot) + \textcolor{stringliteral}{"."}}
\DoxyCodeLine{90                 \});         }
\DoxyCodeLine{91         \}}

\end{DoxyCode}


References atomids\+\_\+, S\+S\+A\+G\+E\+S\+::\+Snapshot\+::\+Get\+Communicator(), and S\+S\+A\+G\+E\+S\+::\+Snapshot\+::\+Get\+Local\+Index().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSSAGES_1_1ParticleCoordinateCV_a1fe779096ebd6aeed9912f34bc57bccd_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/michael/development/\+S\+S\+A\+G\+E\+S/src/\+C\+Vs/Particle\+Coordinate\+C\+V.\+h\end{DoxyCompactItemize}
