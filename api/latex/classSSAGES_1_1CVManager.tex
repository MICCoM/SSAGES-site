\hypertarget{classSSAGES_1_1CVManager}{}\doxysection{S\+S\+A\+G\+ES\+::C\+V\+Manager Class Reference}
\label{classSSAGES_1_1CVManager}\index{SSAGES::CVManager@{SSAGES::CVManager}}


Collective variable manager.  




{\ttfamily \#include $<$C\+V\+Manager.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classSSAGES_1_1CVManager_ae7e1db3c15bcc729727d1f602324675e}{Add\+CV}} (\mbox{\hyperlink{classSSAGES_1_1CollectiveVariable}{Collective\+Variable}} $\ast$cv)
\begin{DoxyCompactList}\small\item\em Adds a CV to the CV manager. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSSAGES_1_1CVManager_af58e861ce0d8e0ab424509c5ff34c3af}{Clear\+C\+Vs}} ()
\begin{DoxyCompactList}\small\item\em Clears C\+Vs from CV manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespaceSSAGES_acddea47426ac0a643b048f870ddd2907}{C\+V\+List}} \mbox{\hyperlink{classSSAGES_1_1CVManager_ad2a31c91a0298b4e80ca5ba720c5eee3}{Get\+C\+Vs}} (const std\+::vector$<$ unsigned int $>$ \&mask=std\+::vector$<$ unsigned int $>$()) const
\begin{DoxyCompactList}\small\item\em Get CV iterator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classSSAGES_1_1CVManager_a751ffa918ce893cb148d718dbeaa012d}{Add\+C\+Vto\+Map}} (const std\+::string \&name, unsigned int id)
\begin{DoxyCompactList}\small\item\em Register CV name with map. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{classSSAGES_1_1CVManager_abf13a95d327b6d62f2b423bf498fd78f}{Lookup\+CV}} (const Json\+::\+Value \&cv, const std\+::string \&path)
\begin{DoxyCompactList}\small\item\em Get CV id from map. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}\label{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}} 
std\+::vector$<$ \mbox{\hyperlink{classSSAGES_1_1CollectiveVariable}{Collective\+Variable}} $\ast$ $>$ \mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\+\_\+}}
\begin{DoxyCompactList}\small\item\em List of collective variables. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}\label{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}} 
static std\+::map$<$ std\+::string, unsigned int $>$ \mbox{\hyperlink{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}{cvmap\+\_\+}} = \{\}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{structSSAGES_1_1Map}{Map}} between CV names and ID\textquotesingle{}s. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Collective variable manager. 

\mbox{\hyperlink{classSSAGES_1_1CVManager}{C\+V\+Manager}} is a class used to manage collective variables (C\+Vs) and how they are exposed to methods. A metohd may wish to bias on a subset of available C\+Vs. The \mbox{\hyperlink{classSSAGES_1_1CVManager}{C\+V\+Manager}} provides a seamless interface to masking unwanted C\+Vs and providing a suitable iterator which can be used to iterate through the desired C\+Vs.

\mbox{\hyperlink{classSSAGES_1_1CVManager}{C\+V\+Manager}} is also responsible for maintaining the lifetime of the CV objects it contains. 

Definition at line 42 of file C\+V\+Manager.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classSSAGES_1_1CVManager_ae7e1db3c15bcc729727d1f602324675e}\label{classSSAGES_1_1CVManager_ae7e1db3c15bcc729727d1f602324675e}} 
\index{SSAGES::CVManager@{SSAGES::CVManager}!AddCV@{AddCV}}
\index{AddCV@{AddCV}!SSAGES::CVManager@{SSAGES::CVManager}}
\doxysubsubsection{\texorpdfstring{AddCV()}{AddCV()}}
{\footnotesize\ttfamily void S\+S\+A\+G\+E\+S\+::\+C\+V\+Manager\+::\+Add\+CV (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classSSAGES_1_1CollectiveVariable}{Collective\+Variable}} $\ast$}]{cv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Adds a CV to the CV manager. 


\begin{DoxyParams}{Parameters}
{\em cv} & Pointer to collective variable. \\
\hline
\end{DoxyParams}


Definition at line 58 of file C\+V\+Manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{59         \{}
\DoxyCodeLine{60             \textcolor{keywordflow}{if}(std::find(\mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\_}}.begin(), \mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\_}}.end(), cv) == \mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\_}}.end())}
\DoxyCodeLine{61                 \mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\_}}.push\_back(cv);}
\DoxyCodeLine{62         \}}

\end{DoxyCode}


References cvs\+\_\+.

\mbox{\Hypertarget{classSSAGES_1_1CVManager_a751ffa918ce893cb148d718dbeaa012d}\label{classSSAGES_1_1CVManager_a751ffa918ce893cb148d718dbeaa012d}} 
\index{SSAGES::CVManager@{SSAGES::CVManager}!AddCVtoMap@{AddCVtoMap}}
\index{AddCVtoMap@{AddCVtoMap}!SSAGES::CVManager@{SSAGES::CVManager}}
\doxysubsubsection{\texorpdfstring{AddCVtoMap()}{AddCVtoMap()}}
{\footnotesize\ttfamily static void S\+S\+A\+G\+E\+S\+::\+C\+V\+Manager\+::\+Add\+C\+Vto\+Map (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{unsigned int}]{id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Register CV name with map. 


\begin{DoxyParams}{Parameters}
{\em name} & Name of CV to register. \\
\hline
{\em id} & ID to associate with name.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If a previous name is already used, it will override the old entry. 
\end{DoxyNote}


Definition at line 101 of file C\+V\+Manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{102         \{}
\DoxyCodeLine{103             \mbox{\hyperlink{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}{cvmap\_}}[name] = id;}
\DoxyCodeLine{104         \}}

\end{DoxyCode}


References cvmap\+\_\+.



Referenced by S\+S\+A\+G\+E\+S\+::\+Resource\+Handler\+::\+Build().

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSSAGES_1_1CVManager_a751ffa918ce893cb148d718dbeaa012d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classSSAGES_1_1CVManager_af58e861ce0d8e0ab424509c5ff34c3af}\label{classSSAGES_1_1CVManager_af58e861ce0d8e0ab424509c5ff34c3af}} 
\index{SSAGES::CVManager@{SSAGES::CVManager}!ClearCVs@{ClearCVs}}
\index{ClearCVs@{ClearCVs}!SSAGES::CVManager@{SSAGES::CVManager}}
\doxysubsubsection{\texorpdfstring{ClearCVs()}{ClearCVs()}}
{\footnotesize\ttfamily void S\+S\+A\+G\+E\+S\+::\+C\+V\+Manager\+::\+Clear\+C\+Vs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clears C\+Vs from CV manager. 

\begin{DoxyNote}{Note}
This destroys all C\+Vs stored in the CV manager! 
\end{DoxyNote}


Definition at line 68 of file C\+V\+Manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{69         \{}
\DoxyCodeLine{70             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\& cv : \mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\_}})}
\DoxyCodeLine{71                 \textcolor{keyword}{delete} cv;}
\DoxyCodeLine{72             \mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\_}}.clear();}
\DoxyCodeLine{73         \}}

\end{DoxyCode}


References cvs\+\_\+.

\mbox{\Hypertarget{classSSAGES_1_1CVManager_ad2a31c91a0298b4e80ca5ba720c5eee3}\label{classSSAGES_1_1CVManager_ad2a31c91a0298b4e80ca5ba720c5eee3}} 
\index{SSAGES::CVManager@{SSAGES::CVManager}!GetCVs@{GetCVs}}
\index{GetCVs@{GetCVs}!SSAGES::CVManager@{SSAGES::CVManager}}
\doxysubsubsection{\texorpdfstring{GetCVs()}{GetCVs()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceSSAGES_acddea47426ac0a643b048f870ddd2907}{C\+V\+List}} S\+S\+A\+G\+E\+S\+::\+C\+V\+Manager\+::\+Get\+C\+Vs (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ unsigned int $>$ \&}]{mask = {\ttfamily std\+:\+:vector$<$unsigned~int$>$()} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get CV iterator. 


\begin{DoxyParams}{Parameters}
{\em mask} & Vector mask which contains the indices of which CV to include in the container. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
C\+V\+List containing pointers to requested C\+Vs. 
\end{DoxyReturn}


Definition at line 81 of file C\+V\+Manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{82         \{}
\DoxyCodeLine{83             \textcolor{keywordflow}{if}(mask.empty())}
\DoxyCodeLine{84                 \textcolor{keywordflow}{return} \mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\_}};}
\DoxyCodeLine{85 }
\DoxyCodeLine{86             \textcolor{comment}{// Pack from mask.}}
\DoxyCodeLine{87             std::vector<CollectiveVariable*> cvs;}
\DoxyCodeLine{88             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\& i : mask)}
\DoxyCodeLine{89                 cvs.push\_back(\mbox{\hyperlink{classSSAGES_1_1CVManager_ac61df57f7b4bd480a18d26f9bc15370f}{cvs\_}}[i]);}
\DoxyCodeLine{90 }
\DoxyCodeLine{91             \textcolor{keywordflow}{return} cvs;}
\DoxyCodeLine{92         \}}

\end{DoxyCode}


References cvs\+\_\+.



Referenced by S\+S\+A\+G\+E\+S\+::\+Direct\+Forward\+Flux\+::\+Check\+For\+Interface\+Crossings(), S\+S\+A\+G\+E\+S\+::\+Direct\+Forward\+Flux\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+Logger\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+Elastic\+Band\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+Finite\+Temp\+String\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+Swarm\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+A\+N\+N\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+Umbrella\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+Meta\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+C\+F\+F\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+B\+F\+S\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+A\+B\+F\+::\+Post\+Integration(), S\+S\+A\+G\+E\+S\+::\+Hook\+::\+Post\+Integration\+Hook(), S\+S\+A\+G\+E\+S\+::\+Hook\+::\+Post\+Simulation\+Hook(), S\+S\+A\+G\+E\+S\+::\+Logger\+::\+Pre\+Simulation(), S\+S\+A\+G\+E\+S\+::\+A\+N\+N\+::\+Pre\+Simulation(), S\+S\+A\+G\+E\+S\+::\+Umbrella\+::\+Pre\+Simulation(), S\+S\+A\+G\+E\+S\+::\+Meta\+::\+Pre\+Simulation(), S\+S\+A\+G\+E\+S\+::\+String\+Method\+::\+Pre\+Simulation(), S\+S\+A\+G\+E\+S\+::\+C\+F\+F\+::\+Pre\+Simulation(), S\+S\+A\+G\+E\+S\+::\+B\+F\+S\+::\+Pre\+Simulation(), S\+S\+A\+G\+E\+S\+::\+A\+B\+F\+::\+Pre\+Simulation(), S\+S\+A\+G\+E\+S\+::\+Forward\+Flux\+::\+Pre\+Simulation(), and S\+S\+A\+G\+E\+S\+::\+Hook\+::\+Pre\+Simulation\+Hook().

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classSSAGES_1_1CVManager_ad2a31c91a0298b4e80ca5ba720c5eee3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classSSAGES_1_1CVManager_abf13a95d327b6d62f2b423bf498fd78f}\label{classSSAGES_1_1CVManager_abf13a95d327b6d62f2b423bf498fd78f}} 
\index{SSAGES::CVManager@{SSAGES::CVManager}!LookupCV@{LookupCV}}
\index{LookupCV@{LookupCV}!SSAGES::CVManager@{SSAGES::CVManager}}
\doxysubsubsection{\texorpdfstring{LookupCV()}{LookupCV()}}
{\footnotesize\ttfamily static int S\+S\+A\+G\+E\+S\+::\+C\+V\+Manager\+::\+Lookup\+CV (\begin{DoxyParamCaption}\item[{const Json\+::\+Value \&}]{cv,  }\item[{const std\+::string \&}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Get CV id from map. 


\begin{DoxyParams}{Parameters}
{\em cv} & \mbox{\hyperlink{namespaceJSON}{J\+S\+ON}} Value (CV) to look up. \\
\hline
{\em path} & Path for \mbox{\hyperlink{namespaceJSON}{J\+S\+ON}} path specification. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ID of CV. 
\end{DoxyReturn}


Definition at line 112 of file C\+V\+Manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{113         \{}
\DoxyCodeLine{114             \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = -\/1;}
\DoxyCodeLine{115             \textcolor{keywordflow}{if} (cv.isString())}
\DoxyCodeLine{116             \{}
\DoxyCodeLine{117                 \textcolor{keyword}{auto} name = cv.asString();}
\DoxyCodeLine{118                 \textcolor{keywordflow}{if}(\mbox{\hyperlink{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}{cvmap\_}}.find(name) == \mbox{\hyperlink{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}{cvmap\_}}.end())}
\DoxyCodeLine{119                 \{}
\DoxyCodeLine{120                     \textcolor{keywordflow}{throw} BuildException(\{path + \textcolor{stringliteral}{": CV mask name \(\backslash\)""} + name + \textcolor{stringliteral}{"\(\backslash\)" does not exist."}\});}
\DoxyCodeLine{121                 \}}
\DoxyCodeLine{122                 \textcolor{keywordtype}{id} = \mbox{\hyperlink{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}{cvmap\_}}.at(name);}
\DoxyCodeLine{123             \}}
\DoxyCodeLine{124             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cv.isIntegral())}
\DoxyCodeLine{125             \{}
\DoxyCodeLine{126                 \textcolor{keywordtype}{id} = cv.asInt();}
\DoxyCodeLine{127                 \textcolor{keywordflow}{if}(id < 0 || id >= \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}{cvmap\_}}.size()))}
\DoxyCodeLine{128                 \{}
\DoxyCodeLine{129                     \textcolor{keywordflow}{throw} BuildException(\{path + \textcolor{stringliteral}{": CV mask index of "} + std::to\_string(\textcolor{keywordtype}{id}) + \textcolor{stringliteral}{" does not exist. "} +}
\DoxyCodeLine{130                                           \textcolor{stringliteral}{"Index must be nonnegative and less than "} + std::to\_string(\mbox{\hyperlink{classSSAGES_1_1CVManager_ae3963d1ef2cd48337cc11a9935fec665}{cvmap\_}}.size()) + \textcolor{stringliteral}{"."}\});}
\DoxyCodeLine{131                 \}}
\DoxyCodeLine{132             \}}
\DoxyCodeLine{133             \textcolor{keywordflow}{else}}
\DoxyCodeLine{134             \{}
\DoxyCodeLine{135                 \textcolor{keywordflow}{throw} BuildException(\{path + \textcolor{stringliteral}{": CV mask must contain strings or nonnegative integers."}\});}
\DoxyCodeLine{136             \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138             \textcolor{keywordflow}{return} id;}
\DoxyCodeLine{139         \}}

\end{DoxyCode}


References cvmap\+\_\+.



Referenced by S\+S\+A\+G\+E\+S\+::\+Resource\+Handler\+::\+Build().

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSSAGES_1_1CVManager_abf13a95d327b6d62f2b423bf498fd78f_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/michael/development/\+S\+S\+A\+G\+E\+S/src/\+C\+Vs/C\+V\+Manager.\+h\item 
/home/michael/development/\+S\+S\+A\+G\+E\+S/src/\+C\+Vs/Collective\+Variable.\+cpp\end{DoxyCompactItemize}
